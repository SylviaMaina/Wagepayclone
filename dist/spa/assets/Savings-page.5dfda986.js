import{q as i,Y as Q,z as k,r as h,o as P,c as A,b as s,a as e,w as t,a1 as v,F as I,aJ as b,b7 as N,a6 as c,P as y,a3 as V,t as g,p as C,e as U}from"./index.cde20d85.js";import{Q as T}from"./QInput.286e18dc.js";import{Q as G,a as u}from"./QTr.0e196550.js";import{Q as z}from"./QTable.2e14d786.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import"./uid.937d8ee7.js";import"./QVirtualScroll.69496eb3.js";import"./QItemLabel.45906cc2.js";import"./rtl.61fc98d8.js";import"./use-checkbox.d1d4d1c5.js";const l=r=>(C("data-v-9142dd5c"),r=r(),U(),r),E={style:{display:"flex","justify-content":"space-between","flex-direction":"column",height:"19rem","margin-top":"10px"}},j=l(()=>s("h6",{class:"text-subtitle1 text-grey-8"},"Total Savings",-1)),D={class:"q-mt-sm"},F=l(()=>s("h6",{class:"text-subtitle1 q-mt-sm"},"Next Saving",-1)),K=l(()=>s("h6",{class:"text-subtitle2 text-grey-8"},"Due on 12/08/2024",-1)),Y=l(()=>s("h6",{class:"text-subtitle1"},"Emergency",-1)),J=l(()=>s("h6",{class:"text-subtitle1"},"Kes 1200",-1)),M=l(()=>s("h6",{class:"text-subtitle1 text-primary"},"Pay",-1)),$={class:"q-mt-lg"},H={__name:"Savings-page",setup(r){const n=i(!0),d=Q(),_=i(""),m=i("");function x(){n.value=!n.value}const w=[{name:"goalName",required:!0,label:"Goal",align:"left",field:o=>o.goalName,sortable:!0},{name:"targetAmount",align:"center",align:"left",label:"Goal Target",field:o=>o.targetAmount,sortable:!0},{name:"goalProgress",label:"Goal Progress",align:"left",field:o=>o.goalProgress,sortable:!0},{name:"Actions",label:"Actions ",align:"left",field:"Actions"}],p=i([]);return k(async()=>{try{await d.fetchUserProfile(),_.value=d.currentUser,p.value=d.currentUser.savingsGoals}catch(o){console.log("Error",o)}}),(o,f)=>{const q=h("q-card-header"),S=h("router-link");return P(),A(I,null,[s("div",E,[e(v,{class:"my-card bg-white",style:{height:"8rem"}},{default:t(()=>[e(b,{align:"center"},{default:t(()=>[j,s("h6",D,[s("span",{class:N([{blurred:!n.value},"q-mr-lg"])}," Ksh. "+c(_.value.savings),3),e(y,{name:n.value?"visibility_off":" visibility",onClick:x},null,8,["name"])])]),_:1})]),_:1}),e(v,{class:"my-card bg-warning",style:{height:"10rem"}},{default:t(()=>[e(q,{class:"q-ml-lg"},{default:t(()=>[F,K]),_:1}),e(b,{class:"q-py-none q-px-none q-ma-sm full-width bg-white"},{default:t(()=>[e(V,{class:"q-py-sm q-px-none flex justify-between",style:{width:"80%",margin:"0 auto"}},{default:t(()=>[Y,J,M]),_:1})]),_:1})]),_:1})]),s("div",$,[e(z,{title:"Your Saving Goals",rows:p.value,columns:w,"row-key":"name",flat:"",bordered:"",filter:m.value,"virtual-scroll":"",class:"q-ma-none q-pa-none"},{"top-right":t(()=>[e(T,{borderless:"",dense:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=a=>m.value=a),placeholder:"Search"},null,8,["modelValue"])]),body:t(a=>[e(G,{props:a},{default:t(()=>[e(u,{key:"goalName",props:a},{default:t(()=>[g(c(a.row.goalName),1)]),_:2},1032,["props"]),e(u,{key:"targetAmount",props:a},{default:t(()=>[g(c(a.row.targetAmount),1)]),_:2},1032,["props"]),e(u,{key:"goalProgress",props:a},{default:t(()=>[g(c(a.row.goalProgress),1)]),_:2},1032,["props"]),e(u,{key:"Actions",props:a},{default:t(()=>[e(S,{to:`/goal/${a.row.savingsId}`},{default:t(()=>[e(y,{name:"more_horiz",size:"30px",color:"black"})]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])])],64)}}};var le=B(H,[["__scopeId","data-v-9142dd5c"]]);export{le as default};

import{aL as oe,f as R,aM as se,m as c,h as x,aO as de,n as H,aT as ce,U as q,ac as ve,aY as fe,at as E,aZ as _,N as L,V as z,aB as $,au as A,J as G,q as I,A as me,aN as he}from"./index.cde20d85.js";import{d as N,n as K}from"./QVirtualScroll.69496eb3.js";import{c as ge}from"./rtl.61fc98d8.js";import{d as ye,i as be}from"./QInput.286e18dc.js";const T={...oe,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},O=50,J=2*O,W=J*Math.PI,Ce=Math.round(W*1e3)/1e3;var ke=R({name:"QCircularProgress",props:{...T,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=H(),m=se(e),t=c(()=>{const s=(i.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(i.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-s}deg)`:`rotate3d(0, 0, 1, ${s-90}deg)`}}),a=c(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),r=c(()=>J/(1-e.thickness/2)),d=c(()=>`${r.value/2} ${r.value/2} ${r.value} ${r.value}`),l=c(()=>N(e.value,e.min,e.max)),u=c(()=>e.max-e.min),h=c(()=>e.thickness/2*r.value),f=c(()=>{const s=(e.max-l.value)/u.value,v=e.rounded===!0&&l.value<e.max&&s<.25?h.value/2*(1-s/.25):0;return W*s+v});function y({thickness:s,offset:v,color:p,cls:F,rounded:P}){return x("circle",{class:"q-circular-progress__"+F+(p!==void 0?` text-${p}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":s,"stroke-dasharray":Ce,"stroke-dashoffset":v,"stroke-linecap":P,cx:r.value,cy:r.value,r:O})}return()=>{const s=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&s.push(x("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:O-h.value/2,cx:r.value,cy:r.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&s.push(y({cls:"track",thickness:h.value,offset:0,color:e.trackColor})),s.push(y({cls:"circle",thickness:h.value,offset:f.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const v=[x("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:d.value,"aria-hidden":"true"},s)];return e.showValue===!0&&v.push(x("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[x("div",l.value)])),x("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:m.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:l.value},de(n.internal,v))}}});const X={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},pe=Object.keys(X);X.all=!0;function Q(e){const n={};for(const i of pe)e[i]===!0&&(n[i]=!0);return Object.keys(n).length===0?X:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const xe=["INPUT","TEXTAREA"];function j(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&xe.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function D(e,n,i){const m=$(e);let t,a=m.left-n.event.x,r=m.top-n.event.y,d=Math.abs(a),l=Math.abs(r);const u=n.direction;u.horizontal===!0&&u.vertical!==!0?t=a<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?t=r<0?"up":"down":u.up===!0&&r<0?(t="up",d>l&&(u.left===!0&&a<0?t="left":u.right===!0&&a>0&&(t="right"))):u.down===!0&&r>0?(t="down",d>l&&(u.left===!0&&a<0?t="left":u.right===!0&&a>0&&(t="right"))):u.left===!0&&a<0?(t="left",d<l&&(u.up===!0&&r<0?t="up":u.down===!0&&r>0&&(t="down"))):u.right===!0&&a>0&&(t="right",d<l&&(u.up===!0&&r<0?t="up":u.down===!0&&r>0&&(t="down")));let h=!1;if(t===void 0&&i===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,h=!0,t==="left"||t==="right"?(m.left-=a,d=0,a=0):(m.top-=r,l=0,r=0)}return{synthetic:h,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:m,direction:t,isFirst:n.event.isFirst,isFinal:i===!0,duration:Date.now()-n.event.time,distance:{x:d,y:l},offset:{x:a,y:r},delta:{x:m.left-n.event.lastX,y:m.top-n.event.lastY}}}}let Me=0;var qe=ce({name:"touch-pan",beforeMount(e,{value:n,modifiers:i}){if(i.mouse!==!0&&q.has.touch!==!0)return;function m(a,r){i.mouse===!0&&r===!0?G(a):(i.stop===!0&&z(a),i.prevent===!0&&L(a))}const t={uid:"qvtp_"+Me++,handler:n,modifiers:i,direction:Q(i),noop:ve,mouseStart(a){j(a,t)&&fe(a)&&(E(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(j(a,t)){const r=a.target;E(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,r){if(q.is.firefox===!0&&_(e,!0),t.lastEvt=a,r===!0||i.stop===!0){if(t.direction.all!==!0&&(r!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const u=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&L(u),a.cancelBubble===!0&&z(u),Object.assign(u,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:u}}z(a)}const{left:d,top:l}=$(a);t.event={x:d,y:l,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:l}},move(a){if(t.event===void 0)return;const r=$(a),d=r.left-t.event.x,l=r.top-t.event.y;if(d===0&&l===0)return;t.lastEvt=a;const u=t.event.mouse===!0,h=()=>{m(a,u);let s;i.preserveCursor!==!0&&i.preservecursor!==!0&&(s=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ge(),t.styleCleanup=v=>{if(t.styleCleanup=void 0,s!==void 0&&(document.documentElement.style.cursor=s),document.body.classList.remove("non-selectable"),u===!0){const p=()=>{document.body.classList.remove("no-pointer-events--children")};v!==void 0?setTimeout(()=>{p(),v()},50):p()}else v!==void 0&&v()}};if(t.event.detected===!0){t.event.isFirst!==!0&&m(a,t.event.mouse);const{payload:s,synthetic:v}=D(a,t,!1);s!==void 0&&(t.handler(s)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&h(),t.event.lastX=s.position.left,t.event.lastY=s.position.top,t.event.lastDir=v===!0?void 0:s.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||u===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){h(),t.event.detected=!0,t.move(a);return}const f=Math.abs(d),y=Math.abs(l);f!==y&&(t.direction.horizontal===!0&&f>y||t.direction.vertical===!0&&f<y||t.direction.up===!0&&f<y&&l<0||t.direction.down===!0&&f<y&&l>0||t.direction.left===!0&&f>y&&d<0||t.direction.right===!0&&f>y&&d>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,r){if(t.event!==void 0){if(A(t,"temp"),q.is.firefox===!0&&_(e,!1),r===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(D(a===void 0?t.lastEvt:a,t).payload);const{payload:d}=D(a===void 0?t.lastEvt:a,t,!0),l=()=>{t.handler(d)};t.styleCleanup!==void 0?t.styleCleanup(l):l()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,i.mouse===!0){const a=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";E(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}q.has.touch===!0&&E(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchpan;i!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&i.end(),i.handler=n.value),i.direction=Q(n.modifiers))},beforeUnmount(e){const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),A(n,"main"),A(n,"temp"),q.is.firefox===!0&&_(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchpan)}});const U=[34,37,40,33,39,38],we=Object.keys(T);var Fe=R({name:"QKnob",props:{...ye,...T,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:n,emit:i}){const{proxy:m}=H(),{$q:t}=m,a=I(e.modelValue),r=I(!1),d=c(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),l=c(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let u;function h(){a.value=e.modelValue===null?d.value:N(e.modelValue,d.value,l.value),w(!0)}me(()=>`${e.modelValue}|${d.value}|${l.value}`,h),h();const f=c(()=>e.disable===!1&&e.readonly===!1),y=c(()=>"q-knob non-selectable"+(f.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),s=c(()=>(String(e.step).trim().split(".")[1]||"").length),v=c(()=>e.step===0?1:e.step),p=c(()=>e.instantFeedback===!0||r.value===!0),F=t.platform.is.mobile===!0?c(()=>f.value===!0?{onClick:Y}:{}):c(()=>f.value===!0?{onMousedown:ae,onClick:Y,onKeydown:ne,onKeyup:re}:{}),P=c(()=>f.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),Z=c(()=>{const o={};return we.forEach(b=>{o[b]=e[b]}),o});function ee(o){o.isFinal?(M(o.evt,!0),r.value=!1):(o.isFirst&&(B(),r.value=!0),M(o.evt))}const te=c(()=>[[qe,ee,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function B(){const{top:o,left:b,width:k,height:S}=m.$el.getBoundingClientRect();u={top:o+S/2,left:b+k/2}}function ae(o){B(),M(o)}function Y(o){B(),M(o,!0)}function ne(o){if(!U.includes(o.keyCode))return;G(o);const b=([34,33].includes(o.keyCode)?10:1)*v.value,k=[34,37,40].includes(o.keyCode)?-b:b;a.value=N(parseFloat((a.value+k).toFixed(s.value)),d.value,l.value),w()}function M(o,b){const k=$(o),S=Math.abs(k.top-u.top),le=Math.sqrt(S**2+Math.abs(k.left-u.left)**2);let g=Math.asin(S/le)*(180/Math.PI);k.top<u.top?g=u.left<k.left?90-g:270+g:g=u.left<k.left?g+90:270-g,t.lang.rtl===!0?g=K(-g-e.angle,0,360):e.angle&&(g=K(g-e.angle,0,360)),e.reverse===!0&&(g=360-g);let C=e.min+g/360*(e.max-e.min);if(v.value!==0){const V=C%v.value;C=C-V+(Math.abs(V)>=v.value/2?(V<0?-1:1)*v.value:0),C=parseFloat(C.toFixed(s.value))}C=N(C,d.value,l.value),i("dragValue",C),a.value!==C&&(a.value=C),w(b)}function re(o){U.includes(o.keyCode)&&w(!0)}function w(o){e.modelValue!==a.value&&i("update:modelValue",a.value),o===!0&&i("change",a.value)}const ue=be(e);function ie(){return x("input",ue.value)}return()=>{const o={class:y.value,role:"slider","aria-valuemin":d.value,"aria-valuemax":l.value,"aria-valuenow":e.modelValue,...P.value,...Z.value,value:a.value,instantFeedback:p.value,...F.value},b={default:n.default};return f.value===!0&&e.name!==void 0&&(b.internal=ie),he(ke,o,b,"knob",f.value,()=>te.value)}}});export{Fe as Q};

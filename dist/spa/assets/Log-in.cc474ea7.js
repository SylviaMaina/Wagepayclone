import{Q as c}from"./QInput.286e18dc.js";import{s as g,q as d,Y as x,o as f,c as v,b as t,a,w as u,v as w,t as m,p as y,e as b,Z as I}from"./index.cde20d85.js";import{Q as V}from"./QForm.3777afd9.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import"./uid.937d8ee7.js";const p=o=>(y("data-v-663d897c"),o=o(),b(),o),q=p(()=>t("div",{class:"q-ma-lg"},[t("h2",{class:"text-h5 text-weight-medium"},"Login"),t("h6",{class:"text-subtitle2 text-weight-light q-mt-lg"}," Please use the Phone and pin provided during the registration process ")],-1)),S={class:"full-width"},L=p(()=>t("h6",{class:"text-subtitle1"},[m(" Forgot your pin? "),t("span",{class:"text-yellow-10"},"RESET PIN")],-1)),P={class:"flex justify-center"},Q={__name:"Log-in",setup(o){const h=g(),l=d(""),r=d(""),i=x(),_=async()=>{try{const s=await I.post("/login",{email:l.value,pin:r.value});if(s.status===200){const e=s.data.token;localStorage.setItem("token",e),i.token=e,await i.fetchUserProfile(),h.push("/home")}else console.log("Something went wrong")}catch{}};return(s,e)=>(f(),v("div",null,[q,t("div",S,[a(V,{class:"q-mx-lg flex column justify-between",style:{height:"20rem",width:"11/12"}},{default:u(()=>[a(c,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=n=>l.value=n),label:"Email",type:"email",placeholder:"example@email.com"},null,8,["modelValue"]),a(c,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),label:"Pin",placeholder:"*****"},null,8,["modelValue"]),L,t("div",P,[a(w,{style:{"background-color":"rgba(231, 199, 37, 1)","border-radius":"30rem",width:"15rem",height:"3rem"},onClick:_,class:"q-h-14 align-center q-rounded-xl text-white q-max-w-lg:h-12 q-max-w-lg:mb-5",size:"18px"},{default:u(()=>[m(" Login ")]),_:1})])]),_:1})])]))}};var C=k(Q,[["__scopeId","data-v-663d897c"]]);export{C as default};

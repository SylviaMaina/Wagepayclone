import{u as ne,Q as C}from"./use-quasar.c0324529.js";import{b8 as re,q as n,Y as de,z as ue,r as J,o as L,$ as P,w as t,a as e,al as k,a1 as V,aJ as y,b as s,a2 as u,v as m,a3 as b,a4 as h,t as U,a6 as z,b9 as x,a0 as ie,P as $,Z as me,a5 as W,p as pe,e as fe}from"./index.cde20d85.js";import{Q as E}from"./QRadio.8c4edce2.js";import{Q}from"./QCardActions.4f2104f5.js";import{Q as p}from"./QInput.286e18dc.js";import{Q as K}from"./QItemLabel.45906cc2.js";import{Q as ve}from"./rtl.61fc98d8.js";import{c as ce,a as ge,Q as ye,b as be,d as he,_ as xe}from"./QFooter.ca90c0e2.js";import{Q as Ve}from"./QToolbar.70a792cf.js";import{Q as we,a as D}from"./QTabs.d6390e2c.js";import{Q as _e,a as qe}from"./QPageSticky.d176db75.js";import{C as f}from"./ClosePopup.26502a4c.js";import{_ as ke}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-checkbox.d1d4d1c5.js";import"./uid.937d8ee7.js";var Qe="/assets/Ellipse 19.ea393bce.png";const Se=re("goal",{state:()=>({goalType:!1,interest:0,startDate:"",goalName:"",targetAmount:0,autoSave:!1,reminder:!1,deductDate:""}),actions:{nextStep(){this.step<6&&this.step++},prevStep(){this.step>1&&this.step--},resetSteps(){this.step=1}}});const d=j=>(pe("data-v-747d1de0"),j=j(),fe(),j),Ce=d(()=>s("h6",null,"Emergency Goal",-1)),Ue=d(()=>s("h6",{class:"text-subtitle2 text-grey-9"}," Would you like to set a locked saving or an open one? ",-1)),ze=d(()=>s("h6",{class:"text-subtitle2 font-weight-bold"}," How long would you like your saving to be locked? ",-1)),De=d(()=>s("h6",{class:"text-subtitle2 text-grey-9",style:{"font-size":"0.8rem"}}," The percentage figure shows how much interest you will earn with that locked period ",-1)),je={class:"q-ma-none q-px-none"},Te=d(()=>s("h6",null,"Emergency Goal",-1)),Ae=d(()=>s("h6",{class:"text-subtitle2 text-grey-9"},"What is your goal name?",-1)),Ie=d(()=>s("h6",{class:"text-subtitle2 text-grey-9"}," How much do you want to save monthly? ",-1)),Le=d(()=>s("img",{src:Qe,alt:"savings",style:{width:"4rem",height:"4rem"}},null,-1)),Pe={class:"text-h5 q-pl-sm"},$e=d(()=>s("h6",{class:"text-grey-7 q-pl-sm",style:{"font-size":"small"}}," When would you like to start saving? ",-1)),Ee={class:"text-h5 q-pl-sm"},Ge=d(()=>s("h6",{class:"text-grey-7",style:{"font-size":"small"}}," Would you like to set a reminder? ",-1)),Ne={class:"text-h5 q-pl-sm"},Re=d(()=>s("h6",{class:"text-grey-7",style:{"font-size":"small"}}," Would you like your saving automatically deducted from card? ",-1)),Be=d(()=>s("h6",null,"Summary",-1)),He={class:"flex column items-start q-mr-sm justify-center"},Fe=d(()=>s("h6",{class:"text-subtitle2 text-grey-5"},"Autosave",-1)),We={class:"flex column items-start justify-center"},Me=d(()=>s("h6",{class:"text-subtitle2 text-grey-5"},"Reminder",-1)),Ye={class:"flex items-center"},Je=d(()=>s("img",{src:xe,alt:"profile",class:"profile-pic"},null,-1)),Ke={__name:"SavingLayout",setup(j){const v=n(!1),G=n(!1),c=n(""),w=n(0),g=n("3"),S=n(!1),i=n(!1),T=n(!1),_=n(""),N=n(!1),R=n(""),B=n(!1),H=n(!1),A=n(!1),o=Se(),F=ne(),I=de(),M=n(null),Z=n([]),O=()=>{o.goalType=G.value,o.interest=g.value,i.value=!0,o.nextStep()},X=()=>{o.goalName=c.value,o.targetAmount=w.value,v.value=!1,i.value=!1,T.value=!0,o.nextStep()},ee=()=>{o.startDate=_.value,v.value=!1,i.value=!1,T.value=!1,B.value=!0,console.log(_),o.nextStep()},le=()=>{o.reminder=S.value,v.value=!1,i.value=!1,H.value=!0,o.nextStep()},te=()=>{o.deductDate=R.value,o.autoSave=N.value,A.value=!0,o.nextStep()},Y=async()=>{try{await I.fetchUserProfile(),M.value=I.currentUser,Z.value=I.currentUser.savingsGoals}catch(r){console.log("Error",r)}};ue(Y);const ae=async()=>{try{(await me.post("/setgoal",{userId:M.value.id,...o.$state})).status===201?(A.value=!1,F.notify({type:"positive",message:"Goal saved successfully!"}),o.resetSteps(),await Y()):F.notify({type:"negative",message:"Goal saving not added!"})}catch(r){F.notify({type:"negative",message:`Error: ${r.message}`}),console.error("Error creating saving goal:",r)}},oe=()=>{I.logout(),router.push("/login")};return(r,l)=>{const q=J("q-card-header"),se=J("router-view");return L(),P(ce,{view:"lHh Lpr lFf"},{default:t(()=>[e(he,null,{default:t(()=>[e(k,{modelValue:v.value,"onUpdate:modelValue":l[6]||(l[6]=a=>v.value=a),position:"bottom"},{default:t(()=>[e(V,{class:"q-pa-lg"},{default:t(()=>[e(q,null,{default:t(()=>[Ce]),_:1}),e(y,{class:"q-px-none"},{default:t(()=>[Ue,e(C,{"keep-color":"",modelValue:G.value,"onUpdate:modelValue":l[0]||(l[0]=a=>G.value=a),color:"primary",label:"Locked Saving","switch-label":"",class:"q-mt-lg"},null,8,["modelValue"])]),_:1}),e(y,{class:"q-px-none"},{default:t(()=>[ze,De]),_:1}),s("div",je,[e(E,{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=a=>g.value=a),val:"3",label:"3- upto 9%"},null,8,["modelValue"]),e(E,{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=a=>g.value=a),val:"6",label:"6- upto 6%"},null,8,["modelValue"]),e(E,{modelValue:g.value,"onUpdate:modelValue":l[3]||(l[3]=a=>g.value=a),val:"9",label:"9- upto 7%"},null,8,["modelValue"]),e(E,{modelValue:g.value,"onUpdate:modelValue":l[4]||(l[4]=a=>g.value=a),val:"12",label:"12- upto 8%"},null,8,["modelValue"])]),e(Q,{class:"bg-white text-primary flex justify-between q-my-lg"},{default:t(()=>[u(e(m,{bordered:"",style:{width:"9rem",border:"1px solid rgba(231, 199, 37, 1)",height:"1rem","font-size":"0.8rem","border-radius":"40rem"},label:"Cancel",onClick:l[5]||(l[5]=a=>{r.inception=!1,i.value=!1}),class:"q-px-sm"},null,512),[[f]]),u(e(m,{rounded:"",style:{width:"9rem",height:"1rem","font-size":"0.8rem","border-radius":"40rem"},class:"q-px-sm",color:"primary",label:"Continue",onClick:O},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:i.value,"onUpdate:modelValue":l[10]||(l[10]=a=>i.value=a),position:"bottom","transition-show":"fade"},{default:t(()=>[e(V,{class:"q-pa-lg"},{default:t(()=>[e(q,null,{default:t(()=>[Te]),_:1}),e(y,{class:"q-px-none"},{default:t(()=>[Ae,e(p,{label:"Emergency",modelValue:c.value,"onUpdate:modelValue":l[7]||(l[7]=a=>c.value=a),hint:"eg. School fees"},null,8,["modelValue"]),Ie,e(p,{hint:"1,000",modelValue:w.value,"onUpdate:modelValue":l[8]||(l[8]=a=>w.value=a)},null,8,["modelValue"])]),_:1}),e(y,{class:"q-px-none"},{default:t(()=>[e(b,{class:"bg-warning"},{default:t(()=>[e(h,{avatar:""},{default:t(()=>[Le]),_:1}),e(h,null,{default:t(()=>[e(K,null,{default:t(()=>[U("Your savings target name is "+z(c.value),1)]),_:1}),e(K,{caption:"",lines:"2"},{default:t(()=>[U("Ksh"+z(w.value)+".",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(Q,{class:"bg-white text-primary flex justify-between q-my-lg"},{default:t(()=>[u(e(m,{bordered:"",style:{width:"9rem",border:"1px solid rgba(231, 199, 37, 1)",height:"2rem","font-size":"0.8rem","border-radius":"40rem"},label:"Cancel",onClick:l[9]||(l[9]=a=>{v.value=!0,i.value=!1})},null,512),[[f]]),u(e(m,{rounded:"",style:{width:"9rem",height:"2rem","font-size":"0.8rem","border-radius":"40rem"},color:"primary",label:"Continue",onClick:X},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:T.value,"onUpdate:modelValue":l[13]||(l[13]=a=>T.value=a),position:"bottom","transition-show":"fade","transition-hide":"fade"},{default:t(()=>[e(V,{style:{"min-width":"350px",height:"20rem",display:"flex","flex-direction":"column","justify-content":"space-evenly","border-top":"4px solid rgba(231, 199, 37, 1)"}},{default:t(()=>[e(q,null,{default:t(()=>[s("h6",Pe,z(c.value),1)]),_:1}),e(y,{class:"q-pt-none flex column justify-between",style:{height:"8rem"}},{default:t(()=>[$e,e(p,{modelValue:_.value,"onUpdate:modelValue":l[11]||(l[11]=a=>_.value=a),type:"date",class:"q-px-sm"},null,8,["modelValue"])]),_:1}),e(Q,{class:"bg-white text-primary flex justify-between q-my-lg"},{default:t(()=>[u(e(m,{bordered:"",style:{width:"9rem",border:"1px solid rgba(231, 199, 37, 1)",height:"2rem","font-size":"0.8rem","border-radius":"40rem"},label:"Cancel",onClick:l[12]||(l[12]=a=>{v.value=!1,i.value=!0})},null,512),[[f]]),u(e(m,{rounded:"",style:{width:"9rem",height:"2rem","font-size":"0.8rem","border-radius":"40rem"},color:"primary",label:"Continue",onClick:ee},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:B.value,"onUpdate:modelValue":l[17]||(l[17]=a=>B.value=a),position:"bottom","transition-show":"fade","transition-hide":"fade"},{default:t(()=>[e(V,{style:{"min-width":"350px",height:"25rem",display:"flex","flex-direction":"column","justify-content":"space-evenly","border-top":"4px solid rgba(231, 199, 37, 1)"}},{default:t(()=>[e(q,null,{default:t(()=>[s("h6",Ee,z(c.value),1)]),_:1}),e(y,{class:"q-pt-none",style:{height:"rem"}},{default:t(()=>[Ge,e(C,{"keep-color":"",modelValue:S.value,"onUpdate:modelValue":l[14]||(l[14]=a=>S.value=a),color:"primary","switch-label":"",class:"q-mt-lg"},null,8,["modelValue"]),e(p,{modelValue:_.value,"onUpdate:modelValue":l[15]||(l[15]=a=>_.value=a),class:"q-px-sm"},null,8,["modelValue"])]),_:1}),e(Q,{class:"bg-white text-primary flex justify-between q-my-lg"},{default:t(()=>[u(e(m,{bordered:"",style:{width:"9rem",border:"1px solid rgba(231, 199, 37, 1)",height:"2rem","font-size":"0.8rem","border-radius":"40rem"},label:"Cancel",onClick:l[16]||(l[16]=a=>{v.value=!1,i.value=!0})},null,512),[[f]]),u(e(m,{rounded:"",style:{width:"9rem",height:"2rem","font-size":"0.8rem","border-radius":"40rem"},color:"primary",label:"Continue",onClick:le},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:H.value,"onUpdate:modelValue":l[21]||(l[21]=a=>H.value=a),position:"bottom","transition-show":"fade","transition-hide":"fade"},{default:t(()=>[e(V,{style:{"min-width":"350px",height:"30rem",display:"flex","flex-direction":"column","justify-content":"space-evenly","border-top":"4px solid rgba(231, 199, 37, 1)"}},{default:t(()=>[e(q,null,{default:t(()=>[s("h6",Ne,z(c.value),1)]),_:1}),e(y,{class:"q-pt-none"},{default:t(()=>[Re,e(C,{"keep-color":"",modelValue:N.value,"onUpdate:modelValue":l[18]||(l[18]=a=>N.value=a),color:"primary","switch-label":"",class:"q-mt-lg"},null,8,["modelValue"]),e(p,{modelValue:R.value,"onUpdate:modelValue":l[19]||(l[19]=a=>R.value=a),type:"date",class:"q-px-sm",hint:"Input the deduction date"},null,8,["modelValue"])]),_:1}),e(Q,{class:"bg-white text-primary flex justify-between q-my-lg"},{default:t(()=>[u(e(m,{bordered:"",style:{width:"9rem",border:"1px solid rgba(231, 199, 37, 1)",height:"2rem","font-size":"0.8rem","border-radius":"40rem"},label:"Cancel",onClick:l[20]||(l[20]=a=>{v.value=!1,i.value=!0})},null,512),[[f]]),u(e(m,{rounded:"",style:{width:"9rem",height:"2rem","font-size":"0.8rem","border-radius":"40rem"},color:"primary",label:"Continue",onClick:te},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:A.value,"onUpdate:modelValue":l[29]||(l[29]=a=>A.value=a),position:"bottom","transition-show":"fade","transition-hide":"fade"},{default:t(()=>[e(V,{style:{"min-width":"350px",height:"50rem",display:"flex","flex-direction":"column","justify-content":"space-evenly","border-top":"4px solid rgba(231, 199, 37, 1)"},class:"q-pa-lg"},{default:t(()=>[e(q,null,{default:t(()=>[Be]),_:1}),e(y,{class:"q-px-none"},{default:t(()=>[e(p,{modelValue:c.value,"onUpdate:modelValue":l[22]||(l[22]=a=>c.value=a),hint:"Goal Name",dense:r.dense,disable:"",readonly:""},null,8,["modelValue","dense"]),e(p,{modelValue:w.value,"onUpdate:modelValue":l[23]||(l[23]=a=>w.value=a),hint:"Monthly Saving",dense:r.dense,disable:"",readonly:""},null,8,["modelValue","dense"]),e(p,{placeholder:"3 months",hint:"Target Period",dense:r.dense,disable:"",readonly:""},null,8,["dense"]),e(p,{modelValue:x(o).targetAmount,"onUpdate:modelValue":l[24]||(l[24]=a=>x(o).targetAmount=a),hint:"Target Amount",dense:r.dense,disable:"",readonly:""},null,8,["modelValue","dense"])]),_:1}),e(y,{class:"q-px-none row"},{default:t(()=>[s("div",He,[Fe,e(C,{"keep-color":"",modelValue:x(o).autoSave,"onUpdate:modelValue":l[25]||(l[25]=a=>x(o).autoSave=a),color:"primary","switch-label":"",class:"q-mt-lg"},null,8,["modelValue"]),e(p,{modelValue:x(o).deductDate,"onUpdate:modelValue":l[26]||(l[26]=a=>x(o).deductDate=a),hint:" Deduction Date",dense:r.dense,disable:"",readonly:""},null,8,["modelValue","dense"])]),s("div",We,[Me,e(C,{"keep-color":"",modelValue:S.value,"onUpdate:modelValue":l[27]||(l[27]=a=>S.value=a),color:"primary","switch-label":"",class:"q-mt-lg"},null,8,["modelValue"]),e(p,{modelValue:x(o).deductDate,"onUpdate:modelValue":l[28]||(l[28]=a=>x(o).deductDate=a),hint:" Deductin Date",dense:r.dense,disable:"",readonly:""},null,8,["modelValue","dense"])])]),_:1}),e(Q,{class:"bg-white text-primary flex items-center justify-center q-my-lg"},{default:t(()=>[u(e(m,{rounded:"",style:{width:"9rem",height:"1rem","font-size":"0.8rem","border-radius":"40rem"},class:"q-px-sm",color:"primary",label:"Set Goal",onClick:ae},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ge,{class:"bg-grey-1 q-pa-sm"},{default:t(()=>[e(Ve,{class:"flex justify-between"},{default:t(()=>[s("div",Ye,[e(ie,null,{default:t(()=>[Je,e(ye,{breakpoint:200},{default:t(()=>[e(V,null,{default:t(()=>[e(ve,null,{default:t(()=>[u((L(),P(b,{clickable:""},{default:t(()=>[e(h,{avatar:""},{default:t(()=>[e($,{color:"primary",name:"edit"})]),_:1}),e(h,{class:"text-primary"},{default:t(()=>[U("Edit Profile")]),_:1})]),_:1})),[[W]]),u((L(),P(b,{clickable:""},{default:t(()=>[e(h,{avatar:""},{default:t(()=>[e($,{color:"red",name:"power"})]),_:1}),e(h,{class:"text-red",onClick:oe},{default:t(()=>[U("Logout")]),_:1})]),_:1})),[[W]]),u((L(),P(b,{clickable:""},{default:t(()=>[e(h,{avatar:""},{default:t(()=>[e($,{color:"green",name:"lock"})]),_:1}),e(h,{class:"text-green"},{default:t(()=>[U("Change Pin")]),_:1})]),_:1})),[[W]])]),_:1})]),_:1})]),_:1})]),_:1})]),e($,{name:"notifications_none",size:"30px",color:"black"})]),_:1})]),_:1}),e(se),e(be,{class:"bg-grey-2",elevated:""},{default:t(()=>[e(we,{modelValue:r.tab,"onUpdate:modelValue":l[30]||(l[30]=a=>r.tab=a),class:"bg-transparent"},{default:t(()=>[e(b,{to:"/home",class:"q-ma-none q-pa-none"},{default:t(()=>[e(D,{name:"Home",icon:"home",label:"Home",class:"text-grey-8 bg-transparent"})]),_:1}),e(b,{to:"/advance",class:"q-ma-none q-pa-none"},{default:t(()=>[e(D,{name:"Advance",icon:"search",label:"Advance",class:"text-grey-8 bg-transparent"})]),_:1}),e(b,{to:"/savings",class:"q-ma-none q-pa-none"},{default:t(()=>[e(D,{name:"Saving",icon:"savings",label:"Saving",class:"text-grey-8 bg-transparent"})]),_:1}),e(b,{to:"/bills",class:"q-ma-none q-pa-none"},{default:t(()=>[e(D,{name:"Bills",icon:"wallet",label:"Bills",class:"text-grey-8 bg-transparent"})]),_:1}),e(b,{to:"/rewards",class:"q-ma-none q-pa-none"},{default:t(()=>[e(D,{name:"Rewards",icon:"event",label:"Rewards",class:"text-grey-8 bg-transparent"})]),_:1})]),_:1},8,["modelValue"]),e(_e,{position:"bottom-top",offset:[0,-30]},{default:t(()=>[e(qe,{icon:"add",color:"primary",onClick:l[31]||(l[31]=a=>v.value=!0)})]),_:1})]),_:1})]),_:1})]),_:1})}}};var pl=ke(Ke,[["__scopeId","data-v-747d1de0"]]);export{pl as default};
